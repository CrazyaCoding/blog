---
layout: post
title: 判断出现次数最多的字符
tags:
- 算法
- js
- 字符串
categories: js
---

## 题目 
判断一个字符串中出现次数最多的字符，并统计次数
## 代码
**方法一**
```javascript
/**
 * 思路一 计算出各个字符出现的次数 最后找出次数最多的
 * @param {*} str 
 */
function findMoreTimesStr(str) {
    let times = 0, // 用来存放出现的最多的次数
        x = ''; // 用来存放出现次数最多的字符
    let obj = {}; // 定义一个空对象 {a:3, b:4, ...} key是不重复的str字符串 value是出现的次数
    for (let i = 0; i < str.length; i++) {
        let key = str[i];
        if (obj[key] > 0) {
            // 已经在obj中，次数加1
            obj[key] = obj[key] + 1;
        } else {
            // 初始化该字符的次数
            obj[key] = 1;
        }
    }
    // 遍历对象 找出最大次数的
    for (let key in obj) {
        if (obj[key] > times) {
            x = key;
            times = obj[key];
        }
    }
    return {
        x,
        times
    };
}
```

**方法二**
```javascript
/**
 * 思路二 利用数组的排序 和 正则
 * 先将字符串变成数组，使用sort按照字母顺序排序
 * 在变成字符串，利用正则，将相同字符分成一组
 * 在按照小数组长度进行排序，大长度在前
 * @param {*} str 
 */
// 正则表达式中的小括号"()"。是代表分组的意思。 如果再其后面出现\1则是代表与第一个小括号中要匹配的内容相同。
// 注意：\1必须与小括号配合使用
// 'aaaddebbc'
function findMoreTimesStr2(str) {
    // 将字符串变成数组 ["a", "a", "a", "d", "d", "e", "b", "b", "c"]
    let arr = str.split('');
    // 将数组按照字母顺序排序 ["a", "a", "a", "b", "b", "c", "d", "d", "e"]
    arr.sort();
    // 将数组重新组装成字符串
    let newStr = arr.join('');
    // 将字符串匹配成多个数组 相同字母在一起 ["aaa", "bb", "c", "dd", "e"]
    let newArr = newStr.match(/([a-z])\1*/g);
    newArr.sort((a, b) => {
        return a.length > b.length;
    });
    // console.log(newArr); // ["aaa", "bb", "c", "dd", "e"]
    return {
        x: newArr[0],
        times: newArr[0].length
    };
}

```

**方法三**
思路一中，用了两次for循环，增加时间复杂度。第二次for循环的目的在于遍历obj（obj对象存储key是某个字符value是出现的次数），找出出现次数最多的字符，那么把这一步放到obj每次增加的时候呢，下面是对方法一的升级版：
```javascript
// 此时，判断当前字符的次数是否大于times，如果大于，那么当前时候该字符出现的次数最多，这样每次循环遍历都做一次判断，可以保证times一直都是字符出现的最多次数，x是对应的字符。
if(obj[key] > times) {
    x = str[i];
    times = obj[key]
}
```
完整代码如下：
```javascript
function findMoreTimesStr3(str) {
    let times = 0, // 用来存放出现的最多的次数
        x = ''; // 用来存放出现次数最多的字符
    let obj = {}; // 定义一个空对象 {a:3, b:4, ...} key是不重复的str字符串 value是出现的次数
    for (let i = 0; i < str.length; i++) {
        let key = str[i];
        if (obj[key] > 0) {
            // 已经在obj中，次数加1
            obj[key] = obj[key] + 1;
        } else {
            // 初始化该字符的次数
            obj[key] = 1;
        }
        // 判断当前字符的次数是否大于times，如果大于 则将x和times分别赋值对应的字符和次数
        // 每次循环做一次判断，以保证times永远是字符出现的最大次数，x并且是这个字符
        if(obj[key] > times) {
            x = str[i];
            times = obj[key]
        }
    }
    return {
        x,
        times
    };
}
```

## 来源
[js面试之一个字符串中出现次数最多的字符是?出现几次?](https://www.bbsmax.com/A/E35pw23EJv/)
